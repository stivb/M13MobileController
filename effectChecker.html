<html>
<head>
    <meta charset="utf-8" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="msapplication-tap-highlight" content="no" />
    <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width" />
    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.css">
    <script src="http://code.jquery.com/jquery-1.11.3.min.js"></script>
    <script src="http://code.jquery.com/mobile/1.4.5/jquery.mobile-1.4.5.min.js"></script>
    <link rel="stylesheet" type="text/css" href = "css/effects.css"/>
<script src="js/effects.js"></script>
</head>
<body>
<div data-role="page" id="EffectChainPage">
    <div data-role="content" >
        <h1>Song Title</h1>
        <div class="ui-grid-c">
            <div class="ui-block-a"><a data-role="button" id="BtnFx1" class="btnFxChooser">Fx 1</a></div>
            <div class="ui-block-b"><a data-role="button" id="BtnFx2" class="btnFxChooser">Fx 2</a></div>
            <div class="ui-block-c"><a data-role="button" id="BtnFx3" class="btnFxChooser">Fx 3</a></div>
            <div class="ui-block-d"><a data-role="button" id="BtnFx4" class="btnFxChooser">Fx 4</a></div>
        </div><!-- /grid-c -->
        <span class="effectName" id="spanFx1">Effect 1</span>
        <div class="ui-grid-b effect" id="DivFx1">

            <div class="ui-block-a param" >
                <span class="param">Param 1</span>
                <div class="percentIndicator"></div>
            </div>
            <div class="ui-block-b param">
                <span class="param">Param 2</span>
                <div class="percentIndicator"></div>
            </div>
            <div class="ui-block-c param">
                <span class="param">Param 3</span>
                <div class="percentIndicator"></div>
            </div>
            <div class="ui-block-a param">
                <span class="param">Param 4</span>
                <div class="percentIndicator"></div>
            </div>
            <div class="ui-block-b param">
                <span class="param">Param 5</span>
                <div class="percentIndicator"></div>
            </div>
            <div class="ui-block-c param">
                <span class="param">Param 6</span>
                <div class="percentIndicator"></div>
            </div>
        </div>
        <span class="effectName" id="spanFx2">Effect 2</span>
        <div class="ui-grid-b effect" id="DivFx2">
            <div class="ui-block-a param">
                <span class="param">Param 1</span>
                <div class="percentIndicator"></div>
            </div>
            <div class="ui-block-b param">
                <span class="param">Param 2</span>
                <div class="percentIndicator"></div>
            </div>
            <div class="ui-block-c param">
                <span class="param">Param 3</span>
                <div class="percentIndicator"></div>
            </div>
            <div class="ui-block-a param">
                <span class="param">Param 4</span>
                <div class="percentIndicator"></div>
            </div>
            <div class="ui-block-b param">
                <span class="param">Param 5</span>
                <div class="percentIndicator"></div>
            </div>
            <div class="ui-block-c param">
                <span class="param">Param 6</span>
                <div class="percentIndicator"></div>
            </div>
        </div>
        <span class="effectName" id="spanFx3">Effect 3</span>
        <div class="ui-grid-b effect" id="DivFx3">
            <div class="ui-block-a param">
                <span class="param">Param 1</span>
                <div class="percentIndicator"></div>
            </div>
            <div class="ui-block-b param">
                <span class="param">Param 2</span>
                <div class="percentIndicator"></div>
            </div>
            <div class="ui-block-c param">
                <span class="param">Param 3</span>
                <div class="percentIndicator"></div>
            </div>
            <div class="ui-block-a param">
                <span class="param">Param 4</span>
                <div class="percentIndicator"></div>
            </div>
            <div class="ui-block-b param">
                <span class="param">Param 5</span>
                <div class="percentIndicator"></div>
            </div>
            <div class="ui-block-c param">
                <span class="param">Param 6</span>
                <div class="percentIndicator"></div>
            </div>
        </div>
        <span class="effectName" id="spanFx4">Effect 4</span>
        <div class="ui-grid-b effect" id="DivFx4">
            <div class="ui-block-a param">
                <span class="param">Param 1</span>
                <div class="percentIndicator"></div>
            </div>
            <div class="ui-block-b param">
                <span class="param">Param 2</span>
                <div class="percentIndicator"></div>
            </div>
            <div class="ui-block-c param">
                <span class="param">Param 3</span>
                <div class="percentIndicator"></div>
            </div>
            <div class="ui-block-a param">
                <span class="param">Param 4</span>
                <div class="percentIndicator"></div>
            </div>
            <div class="ui-block-b param">
                <span class="param">Param 5</span>
                <div class="percentIndicator"></div>
            </div>
            <div class="ui-block-c param">
                <span class="param">Param 6</span>
                <div class="percentIndicator"></div>
            </div>
        </div>
        <div data-role="popup" id="EffectChooserPage">

            <div class="ui-grid-d EffectChooser">

                <div class="ui-block-a">
                    <a class="effectGroupBtn" data-role="button">Fuzz</a>
                </div>
                <div class="ui-block-b">
                    <a class="effectGroupBtn" data-role="button">Delay</a>
                </div>
                <div class="ui-block-c">
                    <a class="effectGroupBtn" data-role="button">Filter</a>
                </div>
                <div class="ui-block-d">
                    <a class="effectGroupBtn" data-role="button">Modulation</a>
                </div>
                <div class="ui-block-e">
                    <a class="effectGroupBtn" data-role="button">Reverb</a>
                </div>
            </div>
            <ul id="effectList" data-role="listview" data-inset="true">
            </ul>

        </div>

        <div data-role="popup" id="EffectTweakerPage">
            <div data-role="content">
                <div class="ui-grid-b effect">
                    <div class="ui-block-a param">
                        <span class="param">Param 1</span>
                        <div class="percentIndicator"></div>
                    </div>
                    <div class="ui-block-b param">
                        <span class="param">Param 2</span>
                        <div class="percentIndicator"></div>
                    </div>
                    <div class="ui-block-c param">
                        <span class="param">Param 3</span>
                        <div class="percentIndicator"></div>
                    </div>
                    <div class="ui-block-a param">
                        <span class="param">Param 4</span>
                        <div class="percentIndicator"></div>
                    </div>
                    <div class="ui-block-b param">
                        <span class="param">Param 5</span>
                        <div class="percentIndicator"></div>
                    </div>
                    <div class="ui-block-c param">
                        <span class="param">Param 6</span>
                        <div class="percentIndicator"></div>
                    </div>
                </div>
                <div data-role="fieldcontain" id="slider1">
                    <label for="slider1-range"></label>
                    <input type="range" id="slider1-range" value="50" min="0" max="100" step="1"
                    />
                </div>
                <div data-role="fieldcontain" id="slider2">
                    <label for="slider2-range"></label>
                    <input type="range" id="slider2-range" value="50" min="0" max="100" step="1"
                    />
                </div>
                <div data-role="fieldcontain" id="slider3">
                    <label for="slider3-range"></label>
                    <input type="range" id="slider3-range" value="50" min="0" max="100" step="1"
                    />
                </div>
                <div data-role="fieldcontain" id="slider4">
                    <label for="slider4-range"></label>
                    <input type="range" id="slider4-range" value="50" min="0" max="100" step="1"
                    />
                </div>
                <div data-role="fieldcontain" id="slider5">
                    <label for="slider5-range"></label>
                    <input type="range" id="slider5-range" value="50" min="0" max="100" step="1"
                    />
                </div>
                <div data-role="fieldcontain" id="slider6">
                    <label for="slider6-range"></label>
                    <input type="range" id="slider6-range" value="50" min="0" max="100" step="1"
                    />
                </div>

                <div class="ui-grid-a">
                    <div class="ui-block-a">
                        <a data-role="button" id="EffectTweakerPageOk">Ok</a>
                    </div>
                    <div class="ui-block-b">
                        <a data-role="button" id="EffectTweakerPageCancel">Cancel</a>
                    </div>
                </div>
            </div>


        </div>
    </div>
</div>

<script>

    var currEffectNum=-1;
    $( ".effectGroupBtn" ).click(function() {

        var filterGroup = $(this).text();
        var effectsToShow = allEffectNamesByGroup(filterGroup);
        var cList = $('#effectList');
        cList.empty();
        $.each(effectsToShow, function(i)
        {
            var li = $('<li/>').appendTo(cList);
            var aaa = $('<a/>').text(effectsToShow[i]).addClass("effectChoice").appendTo(li);
        });
        cList.listview( "refresh" );
    });

    $( ".btnFxChooser" ).click(function() {

        $( "#EffectChooserPage").popup();
        $( "#EffectChooserPage" ).popup( "open" );
        var id = $(this).attr("id");
        currEffectNum = id.slice(-1)*1;

    });

    $(".effect").click(function() {

        alert($(this).attr('id'));
        $( "#EffectTweakerPage").popup();
        $( "#EffectTweakerPage" ).popup( "open" );
    });


    $('body').on('click', 'a.effectChoice', function() {
        $( "#EffectChooserPage" ).popup( "close" );
        $("#spanFx" + currEffectNum).text($(this).text() );
    });
</script>
</body>
</body>
</html>
