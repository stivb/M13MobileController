var visualEffectChain =
    {
        "Description":"",
        "Effects":[]
    };

var EffectsGroupsList=
[
{ 
	 "EffectsGroup":"Delay",
	 "EffectColor":"Green",
	 "Effects":
[
  {
     "Effect":"Analog Echo",
     "Time":0,
     "Fdbk":0,
     "Bass":0,
     "Treble":0,
     "Mix":0
  },
  {
     "Effect":"Analog w/Mod",
     "Time":0,
     "Fdbk":0,
     "Mod Speed":0,
     "Mod Depth":0,
     "Mix":0
  },
  {
     "Effect":"Auto Volume Echo",
     "Time":0,
     "Fdbk":0,
     "Mod Depth":0,
     "Swell Time":0,
     "Mix":0
  },
  {
     "Effect":"Digital Delay",
     "Time":0,
     "Fdbk":0,
     "Bass":0,
     "Treble":0,
     "Mix":0
  },
  {
     "Effect":"Digital Delay w/ Mod",
     "Time":0,
     "Fdbk":0,
     "Mod Speed":0,
     "Mod Depth":0,
     "Mix":0
  },
  {
     "Effect":"Dynamic Delay",
     "Time":0,
     "Fdbk":0,
     "Threshold":0,
     "Ducking":0,
     "Mix":0
  },
  {
     "Effect":"Echo Platter",
     "Time":0,
     "Fdbk":0,
     "Wow/Flutter":0,
     "Drive":0,
     "Mix":0
  },
  {
     "Effect":"Echo Platter DryThru",
     "Time":0,
     "Fdbk":0,
     "Wow/Flutter":0,
     "Drive":0,
     "Mix":0
  },
  {
     "Effect":"Lo Res Delay",
     "Time":0,
     "Fdbk":0,
     "Tone":0,
     "Resolution":0,
     "Mix":0
  },
  {
     "Effect":"Multi-Head",
     "Time":0,
     "Fdbk":0,
     "Heads 1-2":0,
     "Heads 3-4":0,
     "Mix":0
  },
  {
     "Effect":"Ping Pong",
     "Time":0,
     "Fdbk":0,
     "Time Offset":0,
     "Stereo Spread":0,
     "Mix":0
  },
  {
     "Effect":"Reverse",
     "Time":0,
     "Fdbk":0,
     "Mod Speed":0,
     "Mod Depth":0,
     "Mix":0
  },
  {
     "Effect":"Stereo Delay",
     "Left Time":0,
     "Left Fdbk":0,
     "Right Time":0,
     "Right Fdbk":0,
     "Mix":0
  },
  {
     "Effect":"Sweep Echo",
     "Time":0,
     "Fdbk":0,
     "Sweep Speed":0,
     "Sweep Depth":0,
     "Mix":0
  },
  {
     "Effect":"Sweep Echo DryThru",
     "Time":0,
     "Fdbk":0,
     "Sweep Speed":0,
     "Sweep Depth":0,
     "Mix":0
  },
  {
     "Effect":"Tape Echo",
     "Time":0,
     "Fdbk":0,
     "Bass":0,
     "Treble":0,
     "Mix":0
  },
  {
     "Effect":"Tape Echo DryThru",
     "Time":0,
     "Fdbk":0,
     "Bass":0,
     "Treble":0,
     "Mix":0
  },
  {
     "Effect":"Tube Echo",
     "Time":0,
     "Fdbk":0,
     "Wow/Flutter":0,
     "Drive":0,
     "Mix":0
  },
  {
     "Effect":"Tube Echo",
     "DryThru":0,
     "Time":0,
     "Fdbk":0,
     "Wow/Flutter":0,
     "Drive":0,
     "Mix":0
  }
  ] 
},
{ 
	 "EffectsGroup":"Fuzz",
	 "EffectColor":"Yellow",
	 "Effects":
[
  {
     "Effect":"4 Band Shift EQ",
     "LO":0,
     "LMID":0,
     "HMID":0,
     "HI":0,
     "SHFT":0
  },
  {
     "Effect":"Bass Octaver",
     "Drive":0,
     "Bass":0,
     "Mid":0,
     "Treble":0,
     "Output":0
  },
  {
     "Effect":"Blue Comp",
     "Sustain":0,
     "Level":0
  },
  {
     "Effect":"Blue Comp Treb",
     "Sustain":0,
     "Level":0
  },
  {
     "Effect":"Boost Comp",
     "Drive":0,
     "Bass":0,
     "Comp":0,
     "Treble":0,
     "Output":0
  },
  {
     "Effect":"Buzz Saw",
     "Drive":0,
     "Bass":0,
     "Mid":0,
     "Treble":0,
     "Output":0
  },
  {
     "Effect":"Classic Dist",
     "Drive":0,
     "Bass":0,
     "Filter":0,
     "Treble":0,
     "Output":0
  },
  {
     "Effect":"Colordrive",
     "Drive":0,
     "Bass":0,
     "Mid":0,
     "Treble":0,
     "Output":0
  },
  {
     "Effect":"Facial Fuzz",
     "Drive":0,
     "Bass":0,
     "Mid":0,
     "Treble":0,
     "Output":0
  },
  {
     "Effect":"Fuzz Pi",
     "Drive":0,
     "Bass":0,
     "Mid":0,
     "Treble":0,
     "Output":0
  },
  {
     "Effect":"Graphic EQ",
     "80 Hz":0,
     "220 Hz":0,
     "440 Hz":0,
     "1K1 Hz":0,
     "2K2 Hz":0
  },
  {
     "Effect":"Heavy Dist",
     "Drive":0,
     "Bass":0,
     "Mid":0,
     "Treble":0,
     "Output":0
  },
  {
     "Effect":"Jet Fuzz",
     "Drive":0,
     "Fdbk":0,
     "Tone":0,
     "Speed":0,
     "Output":0
  },
  {
     "Effect":"Jumbo Fuzz",
     "Drive":0,
     "Bass":0,
     "Mid":0,
     "Treble":0,
     "Output":0
  },
  {
     "Effect":"Line 6 Distortion",
     "Drive":0,
     "Bass":0,
     "Mid":0,
     "Treble":0,
     "Output":0
  },
  {
     "Effect":"Line 6 Drive",
     "Drive":0,
     "Bass":0,
     "Mid":0,
     "Treble":0,
     "Output":0
  },
  {
     "Effect":"Mid Focus EQ",
     "HP Freq":0,
     "HP Q":0,
     "LP Freq":0,
     "LP Q":0,
     "Gain":0
  },
  {
     "Effect":"Noise Gate",
     "Thresh":0,
     "Decay":0
  },
  {
     "Effect":"Octave Fuzz",
     "Drive":0,
     "Bass":0,
     "Mid":0,
     "Treble":0,
     "Output":0
  },
  {
     "Effect":"Overdrive",
     "Drive":0,
     "Bass":0,
     "Mid":0,
     "Treble":0,
     "Output":0
  },
  {
     "Effect":"Parametric EQ",
     "Lows":0,
     "Highs":0,
     "Freq":0,
     "Q":0,
     "Gain":0
  },
  {
     "Effect":"Red Comp",
     "Sustain":0,
     "Level":0
  },
  {
     "Effect":"Screamer",
     "Drive":0,
     "Bass":0,
     "Mid":0,
     "Treble":0,
     "Output":0
  },
  {
     "Effect":"Studio EQ",
     "500 Hz":0,
     "1500 Hz":0
  },
  {
     "Effect":"Sub Octave Fuzz",
     "Drive":0,
     "Bass":0,
     "Sub":0,
     "Treble":0,
     "Output":0
  },
  {
     "Effect":"Tube Comp",
     "Sens":0,
     "Level":0
  },
  {
     "Effect":"Tube Drive",
     "Drive":0,
     "Bass":0,
     "Mid":0,
     "Treble":0,
     "Output":0
  },
  {
     "Effect":"Vetta Comp",
     "Sens":0,
     "Level":0
  },
  {
     "Effect":"Vetta Juice",
     "Sens":0,
     "Level":0
  },
  {
     "Effect":"Volume Pedal",
     "Volume":0
  }]
  },
  {
  "EffectsGroup":"Filter",
  "EffectColor":"Purple",
  "Effects":
  [
  {
     "Effect":"Attack Synth",
     "Freq":0,
     "Ramp":0,
     "Speed (Attack)":0,
     "Pitch":0,
     "Mix":0
  },
  {
     "Effect":"Chrome",
     "Position":0,
     "Mix":0
  },
  {
     "Effect":"Chrome Custom",
     "Position":0,
     "Mix":0
  },
  {
     "Effect":"Colorful",
     "Position":0,
     "Mix":0
  },
  {
     "Effect":"Comet Trails",
     "Freq":0,
     "Q (Width)":0,
     "Speed":0,
     "Gain":0,
     "Mix":0
  },
  {
     "Effect":"Conductor",
     "Position":0,
     "Mix":0
  },
  {
     "Effect":"Fasset",
     "Position":0,
     "Mix":0
  },
  {
     "Effect":"Growler",
     "Freq":0,
     "Q (Width)":0,
     "Speed":0,
     "Pitch":0,
     "Mix":0
  },
  {
     "Effect":"Obi-Wah",
     "Freq":0,
     "Q (Width)":0,
     "Speed":0,
     "Filter LP/BP/HP":0,
     "Mix":0
  },
  {
     "Effect":"Octisynth",
     "Freq":0,
     "Q (Width)":0,
     "Speed (Vibrato)":0,
     "Depth (Vibrato)":0,
     "Mix":0
  },
  {
     "Effect":"Pitch Glide",
     "Pitch":0,
     "Mix":0
  },
  {
     "Effect":"Q Freq",
     "Q (Width)":0,
     "Gain":0,
     "Filter LP/BP/HP":0,
     "Mix":0
  },
  {
     "Effect":"Seeker",
     "Freq":0,
     "Q (Width)":0,
     "Speed":0,
     "Steps 2-9":0,
     "Mix":0
  },
  {
     "Effect":"Slow Freq",
     "Q (Width)":0,
     "Speed (Attack)":0,
     "Up/Down":0,
     "Mix":0
  },
  {
     "Effect":"Smart Harmony",
     "Scale":0,
     "Key":0,
     "Shift":0,
     "Mix":0
  },
  {
     "Effect":"Spin Cycle",
     "Freq":0,
     "Q (Width)":0,
     "Speed":0,
     "Vol Sensing":0,
     "Mix":0
  },
  {
     "Effect":"Synth O Matic",
     "Freq":0,
     "Q (Width)":0,
     "Waveform":0,
     "Pitch":0,
     "Mix":0
  },
  {
     "Effect":"Synth String",
     "Freq":0,
     "Attack":0,
     "Speed (Modulation)":0,
     "Pitch":0,
     "Mix":0
  },
  {
     "Effect":"Throaty",
     "Position":0,
     "Mix":0
  },
  {
     "Effect":"Throbber",
     "Freq":0,
     "Q (Width)":0,
     "Speed":0,
     "Shape":0,
     "Mix":0
  },
  {
     "Effect":"Tron Down",
     "Freq":0,
     "Q (Width)":0,
     "Range":0,
     "Filter LP/BP/HP":0,
     "Mix":0
  },
  {
     "Effect":"Tron Up",
     "Freq":0,
     "Q (Width)":0,
     "Range":0,
     "Filter LP/BP/HP":0,
     "Mix":0
  },
  {
     "Effect":"V Tron",
     "Strt Vowel":0,
     "End Vowel":0,
     "Speed (Attack)":0,
     "Up/Down":0,
     "Mix":0
  },
  {
     "Effect":"Vetta Wah",
     "Position":0,
     "Mix":0
  },
  {
     "Effect":"Voice Box",
     "Strt Vowel":0,
     "End Vowel":0,
     "Speed":0,
     "Auto 1-4":0,
     "Mix":0
  },
  {
     "Effect":"Weeper",
     "Position":0,
     "Mix":0
  }]
},
{
	"EffectsGroup":"Modulation",
	"EffectColor":"Blue",
	"Effects":
[
  {
     "Effect":"80A Flanger",
     "Speed":0,
     "Range":0,
     "Enhance":0,
     "Manual":0,
     "Even/Odd":0
  },
  {
     "Effect":"AC Flanger",
     "Speed":0,
     "Width":0,
     "Regen":0,
     "Manual":0
  },
  {
     "Effect":"Analog Chorus",
     "Speed":0,
     "Depth":0,
     "Chrs/Vibrato":0,
     "Tone":0,
     "Mix":0
  },
  {
     "Effect":"Analog Flanger",
     "Speed":0,
     "Depth":0,
     "Feedback":0,
     "Manual":0,
     "Mix":0
  },
  {
     "Effect":"Barberpole Phaser",
     "Speed":0,
     "Fdbk":0,
     "Up/Dwn/St":0,
     "Mix":0
  },
  {
     "Effect":"Bias Tremolo",
     "Speed":0,
     "Depth":0,
     "Shape":0,
     "Vol Sensing":0,
     "Mix":0
  },
  {
     "Effect":"Dimension",
     "Swtch 1":0,
     "Swtch 2":0,
     "Switch 3":0,
     "Switch 4":0,
     "Mix":0
  },
  {
     "Effect":"Dual Phaser",
     "Speed":0,
     "Depth":0,
     "Feedback":0,
     "LFO Shape":0,
     "Mix":0
  },
  {
     "Effect":"Frequency Shifter",
     "Freq":0,
     "Up/Dwn/St":0,
     "Mix":0
  },
  {
     "Effect":"Jet Flanger",
     "Speed":0,
     "Depth":0,
     "Feedback":0,
     "Manual":0,
     "Mix":0
  },
  {
     "Effect":"Opto Tremolo",
     "Speed":0,
     "Depth":0,
     "Shape":0,
     "Vol Sensing":0,
     "Mix":0
  },
  {
     "Effect":"Panned Phaser",
     "Speed":0,
     "Depth":0,
     "Output":0,
     "Pan Speed":0,
     "Mix":0
  },
  {
     "Effect":"Panner",
     "Speed":0,
     "Depth":0,
     "Shape":0,
     "Vol Sensing":0,
     "Mix":0
  },
  {
     "Effect":"Pattern Tremolo",
     "Speed":0,
     "Pattern1":0,
     "Pattern2":0,
     "Pattern3":0,
     "Pattern4":0
  },
  {
     "Effect":"Phaser",
     "Speed":0,
     "Depth":0,
     "Feedback":0,
     "Phase Stage":0,
     "Mix":0
  },
  {
     "Effect":"Pitch Vibrato",
     "Speed":0,
     "Depth":0,
     "Rise Time":0,
     "Vol Sensing":0,
     "Mix":0
  },
  {
     "Effect":"Ring Modulator",
     "Speed":0,
     "Depth":0,
     "Shape":0,
     "AM/FM Select":0,
     "Mix":0
  },
  {
     "Effect":"Rotary Drum",
     "Speed":0,
     "Depth":0,
     "Tone":0,
     "Drive":0,
     "Mix":0
  },
  {
     "Effect":"Rotary Drum/Horn",
     "Speed":0,
     "Depth":0,
     "Horn Depth":0,
     "Drive":0,
     "Mix":0
  },
  {
     "Effect":"Script Phase",
     "Speed":0
  },
  {
     "Effect":"Tri Chorus",
     "Speed":0,
     "Depth 1":0,
     "Depth 2":0,
     "Depth 3":0,
     "Mix":0
  },
  {
     "Effect":"U-Vibe",
     "Speed":0,
     "Depth":0,
     "Feedback":0,
     "Vol Sensing":0,
     "Mix":0
  }]
  },
  {
  "EffectsGroup":"Reverb",
  "EffectColor":"Orange",
  "Effects":
  [
  {
     "Effect":"63 Spring",
     "Decay":0,
     "Pre-Delay":0,
     "Tone":0,
     "Mix":0
  },
  {
     "Effect":"Cave",
     "Decay":0,
     "Pre-Delay":0,
     "Tone":0,
     "Mix":0
  },
  {
     "Effect":"Chamber",
     "Decay":0,
     "Pre-Delay":0,
     "Tone":0,
     "Mix":0
  },
  {
     "Effect":"Ducking",
     "Decay":0,
     "Pre-Delay":0,
     "Tone":0,
     "Mix":0
  },
  {
     "Effect":"Echo (Reverb)",
     "Decay":0,
     "Pre-Delay":0,
     "Tone":0,
     "Mix":0
  },
  {
     "Effect":"Hall",
     "Decay":0,
     "Pre-Delay":0,
     "Tone":0,
     "Mix":0
  },
  {
     "Effect":"Octo",
     "Decay":0,
     "Pre-Delay":0,
     "Tone":0,
     "Mix":0
  },
  {
     "Effect":"Particle Verb",
     "Dwell":0,
     "Gain":0,
     "Hazard/Stable":0,
     "Mix":0
  },
  {
     "Effect":"Plate",
     "Decay":0,
     "Pre-Delay":0,
     "Tone":0,
     "Mix":0
  },
  {
     "Effect":"Room",
     "Decay":0,
     "Pre-Delay":0,
     "Tone":0,
     "Mix":0
  },
  {
     "Effect":"Spring",
     "Decay":0,
     "Pre-Delay":0,
     "Tone":0,
     "Mix":0
  },
  {
     "Effect":"Tile",
     "Decay":0,
     "Pre-Delay":0,
     "Tone":0,
     "Mix":0
  }]
  }
];





function allEffectsByGroup(groupName)
{
    var thisEffect;
    var retval = new Array();
    var i,j,fg;
    for (i=0;i<EffectsGroupsList.length;i++) if (EffectsGroupsList[i].EffectsGroup==groupName) break;
    fg = EffectsGroupsList[i];
    for (j=0;j<fg.Effects.length;j++)
        {
        thisEffect = JSON.parse(JSON.stringify(fg.Effects[j]));
        thisEffect.EffectsGroup = fg.EffectsGroup;
        thisEffect.EffectColor = fg.EffectColor;
        retval.push(thisEffect);
        }
    return retval;
}



function allEffectNames()
{
var i,j,fg;
var effects = new Array();
for (i=0;i<EffectsGroupsList.length;i++)
	{
	fg = EffectsGroupsList[i];
	for (j=0;j<fg.Effects.length;j++) effects.push(fg.Effects[j].Effect)
	}
}

function allEffectNamesByGroup(groupName)
{
    var retval = allEffectsByGroup(groupName).map(function(elem) {
        return elem.Effect;
    });
    return retval;
}



function effectAsParallelArray(efg)
{

    var retval = new Object();
    retval.keyz = removeNonNumericFromArray(Object.keys(efg));
    retval.valuez = removeNonNumericFromArray(Object.values(efg));
    return retval;
}

function removeNonNumericFromArray(arr)
{
    arr.shift();
    arr.pop();
    arr.pop();
    return arr;
}

function getEffect(effectName)
{
var i,j,fg,fgstr;
for (i=0;i<EffectsGroupsList.length;i++)
	{
	fg = EffectsGroupsList[i];
	fgstr = fg.EffectsGroup;
	console.log(fgstr);
	for (j=0;j<fg.Effects.length;j++)
		{
		if (fg.Effects[j].Effect==effectName)
			{
			var retval = JSON.parse(JSON.stringify(fg.Effects[j])) ;
			retval.EffectsGroup = fg.EffectsGroup;
			retval.EffectColor = fg.EffectColor;
			return retval;
			}
		}
	}
}



var thisEffect = getEffect("Octo");
console.log(JSON.stringify(effectAsParallelArray(thisEffect)));
console.log(JSON.stringify(allEffectsByGroup("Modulation")));